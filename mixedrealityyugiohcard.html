<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Yu-Gi-Oh! Mixed Reality Card Viewer</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <style>
      body, html {
        margin: 0;
        height: 100%;
        overflow: hidden;
        background: #000;
      }
      #enterVRButton {
        position: absolute;
        bottom: 20px;
        left: 20px;
        padding: 10px 20px;
        background: #333;
        color: #fff;
        border: none;
        cursor: pointer;
        font-size: 16px;
        z-index: 999;
      }
    </style>
  </head>

  <body>
    <button id="enterVRButton">Enter VR</button>

    <a-scene
      background="color: #111"
      vr-mode-ui="enterVRButton: #enterVRButton"
      renderer="antialias: true"
      embedded
    >
      <!-- LIGHTS -->
      <a-entity light="type: ambient; intensity: 0.6"></a-entity>
      <a-entity light="type: directional; intensity: 1.2" position="0 3 3"></a-entity>

      <!-- CARD IMAGE -->
      <a-plane
        id="card"
        position="0 1.5 -3"
        rotation="0 0 0"
        width="2.5"
        height="3.5"
        src="https://images.ygoprodeck.com/images/cards/60709218.jpg"
        shadow="receive: true"
      ></a-plane>

      <!-- FLOOR -->
      <a-plane position="0 0 0" rotation="-90 0 0" width="10" height="10" color="#333"></a-plane>

      <!-- CAMERA + CONTROLS -->
      <a-entity id="rig" position="0 1.6 0">
        <a-entity
          id="camera"
          camera
          look-controls
          wasd-controls
          position="0 0 0"
        ></a-entity>
      </a-entity>
    </a-scene>

    <script>
      const camera = document.querySelector("#rig");
      const card = document.querySelector("#card");

      // Zoom with mouse wheel
      window.addEventListener("wheel", (e) => {
        const z = camera.getAttribute("position").z;
        camera.setAttribute("position", {
          x: 0,
          y: 1.6,
          z: z + (e.deltaY > 0 ? 0.5 : -0.5), // scroll in/out
        });
      });

      // Click on card to zoom in slightly (mobile/VR tap)
      card.addEventListener("click", () => {
        const pos = camera.getAttribute("position");
        if (pos.z > -1.5) {
          camera.setAttribute("position", { x: 0, y: 1.6, z: -1.5 });
        } else {
          camera.setAttribute("position", { x: 0, y: 1.6, z: 0 });
        }
      });
    </script>
  </body>
</html>

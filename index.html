<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My GitHub Static Site</title>

<!-- Link to external stylesheet -->
<link rel="stylesheet" href="stylesheet.css" />
</head>

<body>

<!-- Menu will load here -->
<div id="menu-container"></div>

<script>
  fetch('menu.html')
    .then(response => response.text())
    .then(data => {
      const container = document.getElementById('menu-container');
      container.innerHTML = data;

      // Now attach event listeners because the elements exist
      const toggle = document.getElementById('menu-toggle');
      const menu = document.getElementById('menu-nav');

      toggle.addEventListener('click', () => {
        const expanded = toggle.getAttribute('aria-expanded') === 'true';
        toggle.setAttribute('aria-expanded', String(!expanded));
        if (menu.hasAttribute('hidden')) {
          menu.removeAttribute('hidden');
        } else {
          menu.setAttribute('hidden', '');
        }
      });

      toggle.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          toggle.click();
        }
      });
    })
    .catch(e => console.error('Failed to load menu:', e));
</script>

<header>
  <h1>Welcome to My Site</h1>
  <p>A clean, simple, fast homepage.</p>
</header>

<section>
  <h2>About</h2>
  <p>This page is hosted for free on GitHub Pages. No ads. No tracking.</p>
  <p>This site will contain handy things I've built and would like to share for all interested.</p>
</section>

<footer style="margin-top: 40px; text-align: center; font-size: 0.8rem; opacity: 0.85;">
  <a rel="license" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
    <img alt="Creative Commons License" style="border-width:0; height:25px; vertical-align: middle;"
      src="https://licensebuttons.net/l/by/4.0/88x31.png">
  </a>
  <br>
  This work by <a href="https://david-fear.github.io/" target="_blank">David Fear</a>
  is licensed under a
  <a rel="license" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
    Creative Commons Attribution 4.0 International License (CC BY 4.0)
  </a>.
</footer>

</body>
</html>
